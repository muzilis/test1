<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>拖拽原生</title>
    <style>
        #div1{
            width: 200px;
            height: 200px;
            background: red;
            position: absolute;
        }
    </style>
</head>
<body>
    haahhahaahhahaahhahaahhahaahhahaahhahaahha
    <div id="div1"></div>
    <script>
        var oDiv1 = document.getElementById('div1');
        oDiv1.onmousedown = function(e) {
//            alert(123);
            e = e || window.event;
            iDisX = e.clientX - oDiv1.offsetLeft;
//            console.log(iDisX);
            iDisY = e.clientY - oDiv1.offsetTop;

//            MaxL = document.documentElement.clientWidth- oDiv1.offsetWidth;
//            MaxT = document.documentElement.clientHeight- oDiv1.offsetHeight;
            MaxL = document.documentElement.clientWidth- oDiv1.offsetWidth;
            MaxT = document.documentElement.clientHeight- oDiv1.offsetHeight;
//            console.log(MaxT);

            document.onmousemove = function (e) {
                e = e || window.event;
                var iLeft = e.clientX - iDisX;
                var iTop = e.clientY - iDisY;
                if(iLeft<=0){
                    iLeft = 0;

                }
                if(iTop<=0){
                    iTop=0;
                }
                if(iLeft>=MaxL){
                    iLeft = MaxL;
                }
                if(iTop>=MaxT){
                    iTop = MaxT;
                }
                oDiv1.style.left = iLeft + 'px';
                oDiv1.style.top = iTop + 'px';
            }
            document.onmouseup = function(){
                document.onmousemove = null;
            }

        }

    </script>

















</body>
</html>